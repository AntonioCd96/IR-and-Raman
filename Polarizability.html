

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>NEw &#8212; Interactive IR and Raman</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Polarizability';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="inicio.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo-LSMO.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo-LSMO.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="inicio.html">
                    Welcome
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Basic_Notebook.html">Jupyter Notebook</a></li>




<li class="toctree-l1"><a class="reference internal" href="page1.html">Vibrational spectroscopy</a></li>






<li class="toctree-l1"><a class="reference internal" href="page1_5.html">Vibrational spectroscopy - Interactive</a></li>



<li class="toctree-l1"><a class="reference internal" href="page2.html">Calculate your own IR and Raman Spectra</a></li>


<li class="toctree-l1"><a class="reference internal" href="page3.html">Harmonic Oscillator - Quantum Mechanics Approach</a></li>


<li class="toctree-l1"><a class="reference internal" href="page3_5.html">Harmonic Oscillator - Quantum Mechanics Approach - Interactive</a></li>
<li class="toctree-l1"><a class="reference internal" href="page4_IR-Raman-Phonon-Dispersion.html">IR and raman</a></li>



<li class="toctree-l1"><a class="reference internal" href="page4_phonon-band%20structure.html">Phonon structure of different solids</a></li>


<li class="toctree-l1"><a class="reference internal" href="page4_Solids_IR-Raman_3D_anim.html">Auxilair documents</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/AntonioCd96/IR-and-Raman.git/master?urlpath=lab/tree/Polarizability.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://noto.epfl.ch/hub/user-redirect/git-pull?repo=https%3A//github.com/AntonioCd96/IR-and-Raman.git&urlpath=lab/tree/IR-and-Raman.git/Polarizability.ipynb&branch=master" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onJupyterHub"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_jupyterhub.svg">
  </span>
<span class="btn__text-container">JupyterHub</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/AntonioCd96/IR-and-Raman.git/blob/master/Polarizability.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/AntonioCd96/IR-and-Raman.git" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/AntonioCd96/IR-and-Raman.git/issues/new?title=Issue%20on%20page%20%2FPolarizability.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Polarizability.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>NEw</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">NEw</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#request-no-working">Request no working</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#selenium-try-2">Selenium try #2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#new-attempt-with-kallisto">New attempt with kallisto</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">selenium</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: selenium in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (4.17.2)
Requirement already satisfied: urllib3[socks]&lt;3,&gt;=1.26 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from selenium) (1.26.15)
Requirement already satisfied: trio~=0.17 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from selenium) (0.24.0)
Requirement already satisfied: trio-websocket~=0.9 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from selenium) (0.11.1)
Requirement already satisfied: certifi&gt;=2021.10.8 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from selenium) (2023.7.22)
Requirement already satisfied: typing_extensions&gt;=4.9.0 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from selenium) (4.9.0)
Requirement already satisfied: attrs&gt;=20.1.0 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from trio~=0.17-&gt;selenium) (23.1.0)
Requirement already satisfied: sortedcontainers in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from trio~=0.17-&gt;selenium) (2.4.0)
Requirement already satisfied: idna in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from trio~=0.17-&gt;selenium) (3.4)
Requirement already satisfied: outcome in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from trio~=0.17-&gt;selenium) (1.3.0.post0)
Requirement already satisfied: sniffio&gt;=1.3.0 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from trio~=0.17-&gt;selenium) (1.3.0)
Requirement already satisfied: wsproto&gt;=0.14 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from trio-websocket~=0.9-&gt;selenium) (1.2.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: PySocks!=1.5.7,&lt;2.0,&gt;=1.5.6 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from urllib3[socks]&lt;3,&gt;=1.26-&gt;selenium) (1.7.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: h11&lt;1,&gt;=0.9.0 in /home/cd96/psi4conda/envs/jbook/lib/python3.11/site-packages (from wsproto&gt;=0.14-&gt;trio-websocket~=0.9-&gt;selenium) (0.14.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Usage:   
  /home/cd96/psi4conda/envs/jbook/bin/python -m pip &lt;command&gt; [options]

Commands:
  install                     Install packages.
  download                    Download packages.
  uninstall                   Uninstall packages.
  freeze                      Output installed packages in requirements format.
  inspect                     Inspect the python environment.
  list                        List installed packages.
  show                        Show information about installed packages.
  check                       Verify installed packages have compatible dependencies.
  config                      Manage local and global configuration.
  search                      Search PyPI for packages.
  cache                       Inspect and manage pip&#39;s wheel cache.
  index                       Inspect information available from package indexes.
  wheel                       Build wheels from your requirements.
  hash                        Compute hashes of package archives.
  completion                  A helper command used for command completion.
  debug                       Show information useful for debugging.
  help                        Show help for commands.

General Options:
  -h, --help                  Show help.
  --debug                     Let unhandled exceptions propagate outside the
                              main subroutine, instead of logging them to
                              stderr.
  --isolated                  Run pip in an isolated mode, ignoring
                              environment variables and user configuration.
  --require-virtualenv        Allow pip to only run in a virtual environment;
                              exit with an error otherwise.
  --python &lt;python&gt;           Run pip with the specified Python interpreter.
  -v, --verbose               Give more output. Option is additive, and can be
                              used up to 3 times.
  -V, --version               Show version and exit.
  -q, --quiet                 Give less output. Option is additive, and can be
                              used up to 3 times (corresponding to WARNING,
                              ERROR, and CRITICAL logging levels).
  --log &lt;path&gt;                Path to a verbose appending log.
  --no-input                  Disable prompting for input.
  --keyring-provider &lt;keyring_provider&gt;
                              Enable the credential lookup via the keyring
                              library if user input is allowed. Specify which
                              mechanism to use [disabled, import, subprocess].
                              (default: disabled)
  --proxy &lt;proxy&gt;             Specify a proxy in the form
                              scheme://[user:passwd@]proxy.server:port.
  --retries &lt;retries&gt;         Maximum number of retries each connection should
                              attempt (default 5 times).
  --timeout &lt;sec&gt;             Set the socket timeout (default 15 seconds).
  --exists-action &lt;action&gt;    Default action when a path already exists:
                              (s)witch, (i)gnore, (w)ipe, (b)ackup, (a)bort.
  --trusted-host &lt;hostname&gt;   Mark this host or host:port pair as trusted,
                              even though it does not have valid or any HTTPS.
  --cert &lt;path&gt;               Path to PEM-encoded CA certificate bundle. If
                              provided, overrides the default. See &#39;SSL
                              Certificate Verification&#39; in pip documentation
                              for more information.
  --client-cert &lt;path&gt;        Path to SSL client certificate, a single file
                              containing the private key and the certificate
                              in PEM format.
  --cache-dir &lt;dir&gt;           Store the cache data in &lt;dir&gt;.
  --no-cache-dir              Disable the cache.
  --disable-pip-version-check
                              Don&#39;t periodically check PyPI to determine
                              whether a new version of pip is available for
                              download. Implied with --no-index.
  --no-color                  Suppress colored output.
  --no-python-version-warning
                              Silence deprecation warnings for upcoming
                              unsupported Pythons.
  --use-feature &lt;feature&gt;     Enable new functionality, that may be backward
                              incompatible.
  --use-deprecated &lt;feature&gt;  Enable deprecated functionality, that will be
                              removed in the future.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pol_b</span> <span class="o">=</span> <span class="p">[</span><span class="mf">31.437636</span><span class="p">,</span> <span class="mf">20.524317</span><span class="p">,</span> <span class="mf">18.078247</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pol_bNH3</span> <span class="o">=</span> <span class="p">[</span><span class="mf">13.062095</span> <span class="mf">13.783278</span> <span class="mf">13.062146</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>  <span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
    <span class="n">pol_bNH3</span> <span class="o">=</span> <span class="p">[</span><span class="mf">13.062095</span> <span class="mf">13.783278</span> <span class="mf">13.062146</span><span class="p">]</span>
                <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax. Perhaps you forgot a comma?
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>

<span class="n">chromedriver_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;Downloads/IR-Raman-Axolotl/chromedriver.exe&quot;</span><span class="p">)</span>

<span class="c1"># Set up ChromeOptions</span>
<span class="n">chrome_options</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ChromeOptions</span><span class="p">()</span>

<span class="c1"># If you want to specify the path to the Chrome binary (optional)</span>
<span class="c1"># chrome_options.binary_location = &quot;path/to/chrome/binary&quot;</span>

<span class="c1"># Set the path to the ChromeDriver executable using the environment variable</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;webdriver.chrome.driver&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">chromedriver_path</span>

<span class="c1"># Set up the WebDriver</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">chrome_options</span><span class="p">)</span>

<span class="c1"># Open the webpage</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.materialscloud.org/work/tools/alphaml&quot;</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>


<span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;/Users/roste/Downloads/IR-Raman-Axolotl/CO2.xyz&quot;</span>
<span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;process_structure&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>


<span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;file-upload&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The chromedriver version (114.0.5735.90) detected in PATH at C:\Users\roste\Downloads\IR-Raman-Axolotl\chromedriver.exe might not be compatible with the detected chrome version (115.0.5790.171); currently, chromedriver 115.0.5790.170 is recommended for chrome 115.*, so it is advised to delete the driver in PATH and retry
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="nn">Input In [16],</span> in <span class="ni">&lt;cell line: 22&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span> <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">21</span> <span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;/Users/roste/Downloads/IR-Raman-Axolotl/CO2.xyz&quot;</span>
<span class="ne">---&gt; </span><span class="mi">22</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;process_structure&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">25</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">&quot;file-upload&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

<span class="ne">AttributeError</span>: &#39;WebDriver&#39; object has no attribute &#39;find_element_by_id&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">WebDriverWait</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support</span> <span class="kn">import</span> <span class="n">expected_conditions</span> <span class="k">as</span> <span class="n">EC</span>

<span class="n">chromedriver_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;Downloads/IR-Raman-Axolotl/chromedriver.exe&quot;</span><span class="p">)</span>

<span class="c1"># Set up ChromeOptions</span>
<span class="n">chrome_options</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ChromeOptions</span><span class="p">()</span>

<span class="c1"># Set the path to the ChromeDriver executable using the environment variable</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;webdriver.chrome.driver&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">chromedriver_path</span>

<span class="c1"># Set up the WebDriver</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="n">chrome_options</span><span class="p">)</span>

<span class="c1"># Open the webpage</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.materialscloud.org/work/tools/alphaml&quot;</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># Wait for the file input element to be visible</span>
<span class="n">file_input</span> <span class="o">=</span> <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>\
    <span class="n">EC</span><span class="o">.</span><span class="n">presence_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s2">&quot;structurefile&quot;</span><span class="p">)))</span>



<span class="c1"># Find and click the file-upload button</span>
<span class="n">file_upload_button</span> <span class="o">=</span> <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>\
    <span class="n">EC</span><span class="o">.</span><span class="n">presence_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">VALUE</span><span class="p">,</span> <span class="s2">&quot;Calculate polarizability&quot;</span><span class="p">)))</span>
<span class="n">file_upload_button</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TimeoutException</span><span class="g g-Whitespace">                          </span>Traceback (most recent call last)
<span class="nn">Input In [22],</span> in <span class="ni">&lt;cell line: 23&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span> <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">22</span> <span class="c1"># Wait for the file input element to be visible</span>
<span class="ne">---&gt; </span><span class="mi">23</span> <span class="n">file_input</span> <span class="o">=</span> <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>\
<span class="g g-Whitespace">     </span><span class="mi">24</span>     <span class="n">EC</span><span class="o">.</span><span class="n">presence_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s2">&quot;structurefile&quot;</span><span class="p">)))</span>
<span class="g g-Whitespace">     </span><span class="mi">26</span> <span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;/Users/roste/Downloads/IR-Raman-Axolotl/CO2.xyz&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">27</span> <span class="n">file_input</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\support\wait.py:95,</span> in <span class="ni">WebDriverWait.until</span><span class="nt">(self, method, message)</span>
<span class="g g-Whitespace">     </span><span class="mi">93</span>     <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">end_time</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">94</span>         <span class="k">break</span>
<span class="ne">---&gt; </span><span class="mi">95</span> <span class="k">raise</span> <span class="n">TimeoutException</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">stacktrace</span><span class="p">)</span>

<span class="ne">TimeoutException</span>: Message: 
<span class="ne">Stacktrace</span>:
<span class="ne">Backtrace</span>:
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x007A2B63</span><span class="o">+</span><span class="mi">47795</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x007367E1</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0063C7ED</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00669AC8</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00669B8B</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00698A82</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00684D14</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x006971DA</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00684AC6</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x006613D7</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0066255D</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x009F6F89</span><span class="o">+</span><span class="mi">2490073</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x00A3C361</span><span class="o">+</span><span class="mi">2773681</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x00A36211</span><span class="o">+</span><span class="mi">2748769</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x008216B0</span><span class="o">+</span><span class="mi">566784</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0074019A</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0073C418</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0073C4FB</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0072F317</span><span class="p">]</span>
	<span class="n">BaseThreadInitThunk</span> <span class="p">[</span><span class="mh">0x76F37D59</span><span class="o">+</span><span class="mi">25</span><span class="p">]</span>
	<span class="n">RtlInitializeExceptionChain</span> <span class="p">[</span><span class="mh">0x77EAB79B</span><span class="o">+</span><span class="mi">107</span><span class="p">]</span>
	<span class="n">RtlClearBits</span> <span class="p">[</span><span class="mh">0x77EAB71F</span><span class="o">+</span><span class="mi">191</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="new">
<h1>NEw<a class="headerlink" href="#new" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">WebDriverWait</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support</span> <span class="kn">import</span> <span class="n">expected_conditions</span> <span class="k">as</span> <span class="n">EC</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># Initialize the Chrome WebDriver</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span>
<span class="n">driver</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">()</span>

<span class="c1"># Open the webpage</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.materialscloud.org/work/tools/alphaml&quot;</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># Switch to the iframe where the element is located</span>
<span class="n">iframe_element</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;//*[@id=&#39;contentiframe&#39;]&quot;</span><span class="p">)</span>  <span class="c1"># Replace &quot;iframe_id&quot; with the actual id of the iframe</span>
<span class="n">driver</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">iframe_element</span><span class="p">)</span>

<span class="c1"># Wait for the file input element to be visible with dynamic loading condition</span>
<span class="n">wait</span> <span class="o">=</span> <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">element</span> <span class="o">=</span> <span class="n">wait</span><span class="o">.</span><span class="n">until</span><span class="p">(</span><span class="n">EC</span><span class="o">.</span><span class="n">presence_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;/html/body/div[2]/div[7]/form/div/div[1]/div[2]/input&quot;</span><span class="p">)))</span>

<span class="c1"># Provide the path to the file you want to upload</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">roste</span><span class="se">\\</span><span class="s2">Downloads</span><span class="se">\\</span><span class="s2">IR-Raman-Axolotl</span><span class="se">\\</span><span class="s2">CO2.xyz&quot;</span>
<span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Add a delay to ensure the page has enough time to process the file upload</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># # Locate and click the file upload button</span>
<span class="c1"># upload_button = driver.find_element(By.ID, &quot;file-upload&quot;)</span>
<span class="c1"># upload_button.click()</span>

<span class="c1"># # You can add further actions to interact with the output as needed</span>

<span class="c1"># # Switch back to the main content if needed</span>
<span class="c1"># driver.switch_to.default_content()</span>

<span class="c1"># # Close the browser window</span>
<span class="c1"># driver.quit()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NoSuchElementException</span><span class="g g-Whitespace">                    </span>Traceback (most recent call last)
<span class="nn">Input In [39],</span> in <span class="ni">&lt;cell line: 16&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> <span class="c1"># Switch to the iframe where the element is located</span>
<span class="ne">---&gt; </span><span class="mi">16</span> <span class="n">iframe_element</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;//*[@id=&#39;contentiframe&#39;]&quot;</span><span class="p">)</span>  <span class="c1"># Replace &quot;iframe_id&quot; with the actual id of the iframe</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span> <span class="n">driver</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">iframe_element</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">19</span> <span class="c1"># Wait for the file input element to be visible with dynamic loading condition</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\remote\webdriver.py:739,</span> in <span class="ni">WebDriver.find_element</span><span class="nt">(self, by, value)</span>
<span class="g g-Whitespace">    </span><span class="mi">736</span>     <span class="n">by</span> <span class="o">=</span> <span class="n">By</span><span class="o">.</span><span class="n">CSS_SELECTOR</span>
<span class="g g-Whitespace">    </span><span class="mi">737</span>     <span class="n">value</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;[name=&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">&quot;]&#39;</span>
<span class="ne">--&gt; </span><span class="mi">739</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">Command</span><span class="o">.</span><span class="n">FIND_ELEMENT</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;using&quot;</span><span class="p">:</span> <span class="n">by</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">})[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\remote\webdriver.py:345,</span> in <span class="ni">WebDriver.execute</span><span class="nt">(self, driver_command, params)</span>
<span class="g g-Whitespace">    </span><span class="mi">343</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_executor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">driver_command</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">344</span> <span class="k">if</span> <span class="n">response</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">345</span>     <span class="bp">self</span><span class="o">.</span><span class="n">error_handler</span><span class="o">.</span><span class="n">check_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">346</span>     <span class="n">response</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unwrap_value</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">347</span>     <span class="k">return</span> <span class="n">response</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\remote\errorhandler.py:229,</span> in <span class="ni">ErrorHandler.check_response</span><span class="nt">(self, response)</span>
<span class="g g-Whitespace">    </span><span class="mi">227</span>         <span class="n">alert_text</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;alert&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">228</span>     <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">stacktrace</span><span class="p">,</span> <span class="n">alert_text</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]  # mypy is not smart enough here</span>
<span class="ne">--&gt; </span><span class="mi">229</span> <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">stacktrace</span><span class="p">)</span>

<span class="ne">NoSuchElementException</span>: Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@id=&#39;contentiframe&#39;]&quot;}
  <span class="p">(</span><span class="n">Session</span> <span class="n">info</span><span class="p">:</span> <span class="n">chrome</span><span class="o">=</span><span class="mf">115.0.5790.171</span><span class="p">);</span> <span class="n">For</span> <span class="n">documentation</span> <span class="n">on</span> <span class="n">this</span> <span class="n">error</span><span class="p">,</span> <span class="n">please</span> <span class="n">visit</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">dev</span><span class="o">/</span><span class="n">documentation</span><span class="o">/</span><span class="n">webdriver</span><span class="o">/</span><span class="n">troubleshooting</span><span class="o">/</span><span class="n">errors</span><span class="c1">#no-such-element-exception</span>
<span class="ne">Stacktrace</span>:
<span class="ne">Backtrace</span>:
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x007A2B63</span><span class="o">+</span><span class="mi">47795</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x007367E1</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0063C7ED</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00669AC8</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00669B8B</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00698A82</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00684D14</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x006971DA</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00684AC6</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x006613D7</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0066255D</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x009F6F89</span><span class="o">+</span><span class="mi">2490073</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x00A3C361</span><span class="o">+</span><span class="mi">2773681</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x00A36211</span><span class="o">+</span><span class="mi">2748769</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x008216B0</span><span class="o">+</span><span class="mi">566784</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0074019A</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0073C418</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0073C4FB</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0072F317</span><span class="p">]</span>
	<span class="n">BaseThreadInitThunk</span> <span class="p">[</span><span class="mh">0x76F37D59</span><span class="o">+</span><span class="mi">25</span><span class="p">]</span>
	<span class="n">RtlInitializeExceptionChain</span> <span class="p">[</span><span class="mh">0x77EAB79B</span><span class="o">+</span><span class="mi">107</span><span class="p">]</span>
	<span class="n">RtlClearBits</span> <span class="p">[</span><span class="mh">0x77EAB71F</span><span class="o">+</span><span class="mi">191</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>

<span class="c1"># Get the absolute path to the chromedriver.exe</span>
<span class="n">chromedriver_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;Downloads/IR-Raman-Axolotl/chromedriver.exe&quot;</span><span class="p">)</span>

<span class="c1"># Set up the WebDriver</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">executable_path</span><span class="o">=</span><span class="n">chromedriver_path</span><span class="p">)</span>
<span class="c1"># Open the webpage</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.materialscloud.org/work/tools/alphaml&quot;</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># Find the file input element and upload a file</span>
<span class="n">file_input</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s1">&#39;file&#39;</span><span class="p">)</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;Downloads/IR-Raman-Axolotl/CO2.xyz&#39;</span>  <span class="c1"># Replace with the actual file path</span>
<span class="n">file_input</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># # Submit the form</span>
<span class="c1"># submit_button = driver.find_element(By.XPATH, &#39;//button[@type=&quot;submit&quot;]&#39;)</span>
<span class="c1"># submit_button.click()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [8],</span> in <span class="ni">&lt;cell line: 9&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="n">chromedriver_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;Downloads/IR-Raman-Axolotl/chromedriver.exe&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="c1"># Set up the WebDriver</span>
<span class="ne">----&gt; </span><span class="mi">9</span> <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">executable_path</span><span class="o">=</span><span class="n">chromedriver_path</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="c1"># Open the webpage</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.materialscloud.org/work/tools/alphaml&quot;</span>

<span class="ne">TypeError</span>: __init__() got an unexpected keyword argument &#39;executable_path&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="request-no-working">
<h1>Request no working<a class="headerlink" href="#request-no-working" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="c1"># URL of the upload endpoint</span>
<span class="n">upload_url</span> <span class="o">=</span> <span class="s1">&#39;https://tools.materialscloud.org/alphaml/input_structure/&#39;</span>

<span class="c1"># Path to the file you want to upload</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;C:</span><span class="se">\\</span><span class="s1">Users</span><span class="se">\\</span><span class="s1">roste</span><span class="se">\\</span><span class="s1">Downloads</span><span class="se">\\</span><span class="s1">IR-Raman-Axolotl</span><span class="se">\\</span><span class="s1">CO2.xyz&#39;</span>

<span class="c1"># Set up the data to be sent along with the file</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;fileformat&#39;</span><span class="p">:</span> <span class="s1">&#39;xyz-ase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;modeltype&#39;</span><span class="p">:</span> <span class="s1">&#39;ccsd&#39;</span>
<span class="p">}</span>
<span class="c1"># Open the file for reading</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="c1"># Use the requests library to post the file and data</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">upload_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;structurefile&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">})</span>
    <span class="c1"># data_bytes = response.content</span>
    <span class="c1"># data_dic   = json.loads(data_bytes.decode(&#39;utf-8&#39;))</span>

<span class="c1"># Check the response</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;File uploaded successfully!&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Failed to upload file. Status code:&#39;</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Response content:&#39;</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>File uploaded successfully!
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">text</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags --&gt;\n\n    &lt;!-- Bootstrap --&gt;\n    &lt;link href=&quot;../static/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries --&gt;\n    &lt;!-- WARNING: Respond.js doesn\&#39;t work if you view the page via file:// --&gt;\n    &lt;!--[if lt IE 9]&gt;\n      &lt;script src=&quot;https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js&quot;&gt;&lt;/script&gt;\n      &lt;script src=&quot;https://oss.maxcdn.com/respond/1.4.2/respond.min.js&quot;&gt;&lt;/script&gt;\n    &lt;![endif]--&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../static/css/visualizer_base.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../static/css/visualizer_input.min.css&quot;/&gt;\n\n\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/alphaml/static/css/jquery-ui.1.12.1.min.css&quot;/&gt;\n    &lt;script src=&quot;/alphaml/static/js/jquery-3.1.0.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/alphaml/static/js/jquery-ui.1.12.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/alphaml/static/js/loadingoverlay.js&quot;&gt;&lt;/script&gt;\n\n    &lt;title&gt;AlphaML&lt;/title&gt;\n    &lt;script&gt;\n    $( function() {\n      $( &quot;#accordion&quot; ).accordion({\n        collapsible: true,\n        heightStyle: &quot;content&quot;, // Avoid that all have the same height\n        active: false  // Start all closed\n      });\n\n      $( &quot;#fileformatSelect&quot; ).change(function() {\n        if ( $(this).val() == &quot;xyz-ase&quot; )\n          $( &quot;#xyzFormatFields&quot; ).show();\n        else\n          $( &quot;#xyzFormatFields&quot; ).hide();\n      });\n    });\n    &lt;/script&gt;\n\n\n    \n    \n\n    &lt;script src=&quot;../static/js/iframeResizer.contentWindow.min.js&quot;&gt;&lt;/script&gt;\n&lt;!--TODO: DMW CHECK THESE --&gt;\n\t\t&lt;script type=&quot;text/javascript&quot;&gt;\n\t\t\tfunction showText(obj) {\n\t\t\t\tif(obj.id==\&#39;insertrefs\&#39;) {\n\t\t\t\t\tdocument.getElementById(\&#39;H_ref\&#39;).style.display=\&#39;block\&#39;;\n\t\t\t\t\tdocument.getElementById(\&#39;C_ref\&#39;).style.display=\&#39;block\&#39;;\n\t\t\t\t\tdocument.getElementById(\&#39;N_ref\&#39;).style.display=\&#39;block\&#39;;\n\t\t\t\t\tdocument.getElementById(\&#39;O_ref\&#39;).style.display=\&#39;block\&#39;;\n\t\t\t\t\tdocument.getElementById(\&#39;head_ref\&#39;).style.display=\&#39;block\&#39;;\n\t\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdocument.getElementById(\&#39;H_ref\&#39;).style.display=\&#39;none\&#39;;\n\t\t\t\t\tdocument.getElementById(\&#39;C_ref\&#39;).style.display=\&#39;none\&#39;;\n\t\t\t\t\tdocument.getElementById(\&#39;N_ref\&#39;).style.display=\&#39;none\&#39;;\n\t\t\t\t\tdocument.getElementById(\&#39;O_ref\&#39;).style.display=\&#39;none\&#39;;\n\t\t\t\t\tdocument.getElementById(\&#39;head_ref\&#39;).style.display=\&#39;none\&#39;;\n\t\t\t\t\t}\n\t\t\treturn;\n\t\t\t}\n\t\t&lt;/script&gt;\n    &lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;\n\n    &lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=UA-129173117-1&quot;&gt;&lt;/script&gt;\n    &lt;script&gt;\n      window.dataLayer = window.dataLayer || [];\n      function gtag(){dataLayer.push(arguments);}\n      gtag(\&#39;js\&#39;, new Date());\n\n      gtag(\&#39;config\&#39;, \&#39;UA-129173117-1\&#39;);\n    &lt;/script&gt;\n\n&lt;/head&gt;\n\n\n&lt;body&gt;\n&lt;div&gt;\n&lt;/div&gt;\n\n&lt;div id=\&#39;container\&#39;&gt;\n&lt;div id=\&#39;maintitle\&#39;&gt;\n  \n    &lt;h1 style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-weight: bold; &quot;&gt;AlphaML&lt;/span&gt;: machine learning of molecular polarizabilities&lt;/h1&gt;\n  \n&lt;/div&gt;\n\n    &lt;div id=&quot;flash_alert&quot;&gt;\n\n    &lt;/div&gt;\n\n\n&lt;div&gt;\n\t&lt;h2&gt;About AlphaML&lt;/h2&gt; &lt;!--TODO: DMW EDIT THIS AND ADD CITATION --&gt;\n        &lt;p style=&quot;test-align:justify&quot;&gt;AlphaML was developed by the &lt;a href=&quot;https://cosmo.epfl.ch&quot; target=&quot;_blank&quot;&gt;Ceriotti&lt;/a&gt; group at EPFL and the &lt;a href=&quot;http://distasio.chem.cornell.edu/&quot; target=&quot;_blank&quot;&gt;DiStasio&lt;/a&gt; group at Cornell. AlphaML uses a machine-learning framework based on comparisons of local atomic environments to predict the polarizabilities of molecules. This model was trained on the 7211 compounds in the &lt;a href=&quot;http://iopscience.iop.org/article/10.1088/1367-2630/15/9/095003&quot; target=&quot;_blank&quot;&gt;QM7b&lt;/a&gt; dataset, containing up to 7 heavy atoms (C,N,O,S,Cl) as well as hydrogen. For these molecules, the polarizability was calculated using B3LYP-DFT, SCAN0-DFT and CCSD. A model trained on the 5400 most diverse members of the QM7b set predicts the CCSD polarizability of the remaining molecules with an error of 0.04 a.u., an improvement of an order of magnitude over the prediction of DFT, and the polarizability of a showcase set of more complex molecules with an error of 0.24 a.u., comparable in accuracy to the DFT prediction. &lt;/p&gt;\n\t&lt;p style=&quot;test-align:justify&quot;&gt; &lt;strong&gt;Disclaimer&lt;/strong&gt;: The model used in this web-app has been optimized for execution speed rather than accuracy, and so have been found to deviate by about 0.02 a.u. from those of the published manuscript (0.002 a.u. for the CCSD polarizabilities). &lt;/p&gt;\n\t&lt;p style=&quot;test-align:justify&quot;&gt; &lt;strong&gt;Please read and cite the following&lt;/strong&gt;: &lt;a href=&quot;https://doi.org/10.1073/pnas.1816132116&quot; target=&quot;_blank&quot;&gt; David M. Wilkins, Andrea Grisafi, Yang Yang, Ka Un Lao, Robert A. DiStasio Jr. and Michele Ceriotti. Accurate molecular polarizabilities by coupled-cluster theory and machine learning &lt;/a&gt;, Proc. Natl. Acad. Sci. 116, 3401 (2019). &lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div&gt;\n  &lt;h3&gt;&lt;strong&gt;Version 1.1 Beta; 02.03.2019&lt;/strong&gt;&lt;/h3&gt;\n  &lt;p style=&quot;test-align:justify&quot;&gt;This is the first release of AlphaML, with basic functionality. The polarizabilities of molecules containing H,C,N,O,S,Cl can be predicted. It has only been tested for input structures in which all atomic coordinates are fully relaxed with DFT. &lt;strong&gt;Version 1.1 Beta&lt;/strong&gt; introduces radial scaling to improve the accuracy of predictions.\n    &lt;/p&gt;\n  &lt;/div&gt;\n\n&lt;div id=&quot;accordion&quot; style=&quot;text-align:justify&quot;&gt;\n&lt;h2&gt;What AlphaML does&lt;/h2&gt;\n&lt;div&gt;\n&lt;p&gt;AlphaML takes as an input the &lt;strong&gt;atomic coordinates of a molecule&lt;/strong&gt;, and\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;predicts&lt;/strong&gt; the dipole polarizability of this molecule, as well as a decomposition of this polarizability into atom-centred environments.&lt;/li&gt;\n&lt;li&gt;provides a &lt;strong&gt;JSmol interactive output&lt;/strong&gt; and &lt;strong&gt;copy-paste content&lt;/strong&gt; in the &lt;a href=&quot;http://libatoms.github.io/QUIP/io.html#extendedxyz&quot; target=&quot;_blank&quot; style=&quot;color:DodgerBlue;&quot;&gt;extended xyz&lt;/a&gt; format.&lt;/li&gt;\n&lt;p&gt;\n&lt;p&gt;AlphaML has so far been tested for &lt;strong&gt;DFT-optimized&lt;/strong&gt; molecular configurations of molecules containing &lt;strong&gt;H, C, N, O, S and Cl&lt;/strong&gt; atoms. See\n\t&lt;a href=&quot;https://doi.org/10.1073/pnas.1816132116&quot; target=&quot;_blank&quot; style=&quot;color:DodgerBlue;&quot;&gt; Wilkins et al.&lt;/a&gt;.\n\n&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;h2&gt;Version history&lt;/h2&gt;\n&lt;div&gt;\n&lt;p&gt;&lt;strong&gt;02.03.2019: Version 1.1 Beta &lt;/strong&gt;\n&lt;ul&gt;\n\t&lt;li&gt;Inclusion of radial scaling to improve the accuracy of predictions.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;13.08.2018: Version 1.0 Beta &lt;/strong&gt;\n&lt;ul&gt;\n  &lt;li&gt;Implementation of AlphaML framework as described in &lt;a href=&quot;https://doi.org/10.1073/pnas.1816132116&quot; target=&quot;_blank&quot; style=&quot;color:DodgerBlue;&quot;&gt; Wilkins et al.&lt;/a&gt;. &lt;/li&gt;\n&lt;/ul&gt;\n&lt;/p&gt;\n&lt;/div&gt;\n&lt;!--\n&lt;h2&gt;ShiftML definitions and advantages&lt;/h2&gt;\n&lt;div&gt;\n&lt;p&gt;The main advantages of this work are:\n&lt;ul&gt;\n&lt;li&gt;\n    &lt;strong&gt;fast and accurate estimation&lt;/strong&gt; of isotropic NMR chemical shifts.\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/p&gt;\n&lt;/div&gt;\n--&gt;\n&lt;/div&gt;\n\n\n\n&lt;h2&gt;&lt;a name=&quot;tool&quot;&gt;&lt;/a&gt;Upload your molecule&lt;/h2&gt;\n&lt;div class=\&#39;alert alert-danger\&#39;&gt;\n\t\t&lt;div style=&quot;text-align:center&quot;&gt;&lt;label&gt;Version 1.1 Beta of AlphaML predicts polarizabilities of structures containing only H,C,N,O,S,Cl.&lt;/label&gt;&lt;/div&gt;\n\t&lt;/div&gt;\n\n&lt;div style=&quot;margin-left: 20px; margin-right: 20px&quot;&gt;\n  &lt;form id=&quot;process_structure&quot;&gt;\n    &lt;div class=\&#39;alert alert-info\&#39;&gt;\n      &lt;div class=\&#39;row\&#39;&gt;\n\t&lt;div class=\&#39;col-xs-12 col-sm-6\&#39;&gt;\n\t  &lt;label for=&quot;file&quot;&gt;Upload a molecule:&lt;/label&gt;\n\t&lt;/div&gt;\n\t&lt;div class=&quot;col-xs-12 col-sm-6&quot;&gt;\n\t  &lt;input type=&quot;file&quot; name=&quot;structurefile&quot; size=&quot;100&quot;&gt;\n\t&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\&#39;row\&#39;&gt;\n\t&lt;div class=\&#39;col-sm-6\&#39;&gt;\n\t  &lt;label for=&quot;fileformat&quot;&gt;Select the file format:&lt;/label&gt;\n\t&lt;/div&gt;\n\t&lt;div class=\&#39;col-sm-6\&#39;&gt;\n\t  &lt;select name=&quot;fileformat&quot; id=&quot;fileformatSelect&quot;, style=&quot;max-width: 100%&quot;&gt;\n          &lt;option value=&quot;xyz-ase&quot;&gt;EXTXYZ File (.xyz) [parser: ase]&lt;/option&gt;\n          &lt;option value=&quot;cif-ase&quot;&gt;CIF File (.cif) [parser: ase]&lt;/option&gt;\n          &lt;option value=&quot;cif-pymatgen&quot;&gt;CIF File (.cif) [parser: pymatgen]&lt;/option&gt;\n          &lt;option value=&quot;vasp-ase&quot;&gt;VASP POSCAR [parser: ase]&lt;/option&gt;\n          &lt;option value=&quot;castep-ase&quot;&gt;CASTEP (.cell) [parser: ase]&lt;/option&gt;\n\t\t\t\t\t&lt;option value=&quot;castepout-ase&quot;&gt;CASTEP Output (.castep) [parser: ase]&lt;/option&gt;\n\t\t      &lt;option value=&quot;qe-ase&quot;&gt;Quantum Espresso Output (scf/relax) [parser: ase]&lt;/option&gt;\n        &lt;/select&gt;\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n      &lt;div class=\&#39;row\&#39;&gt;\n        &lt;div class=\&#39;col-sm-6\&#39;&gt;\n          &lt;label for=&quot;fileformat&quot;&gt;Select the AlphaML model:&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\&#39;col-sm-6\&#39;&gt;\n          &lt;select name=&quot;modeltype&quot; id=&quot;modeltypeselect&quot;, style=&quot;max-width: 100%&quot;&gt;\n          &lt;option value=&quot;ccsd&quot;&gt;CCSD&lt;/option&gt;\n          &lt;option value=&quot;b3lyp&quot;&gt;B3LYP&lt;/option&gt;\n\t  &lt;option value=&quot;scan0&quot;&gt;SCAN0&lt;/option&gt;\n          &lt;option value=&quot;delta-b3lyp-ccsd&quot;&gt;(CCSD-B3LYP)&lt;/option&gt;\n          &lt;option value=&quot;delta-scan0-ccsd&quot;&gt;(CCSD-SCAN0)&lt;/option&gt;\n\t  &lt;!--          &lt;option value=&quot;cif-pymatgen&quot;&gt;CIF File (.cif) [parser: pymatgen]&lt;/option&gt; --&gt;\n&lt;!--          &lt;option value=&quot;vasp-ase&quot;&gt;VASP POSCAR [parser: ase]&lt;/option&gt; --&gt;\n&lt;!--          &lt;option value=&quot;castep-ase&quot;&gt;CASTEP (.cell) [parser: ase]&lt;/option&gt; --&gt;\n&lt;!--                                        &lt;option value=&quot;castepout-ase&quot;&gt;CASTEP Output (.castep) [parser: ase]&lt;/option&gt; --&gt;\n&lt;!--                      &lt;option value=&quot;qe-ase&quot;&gt;Quantum Espresso Output (scf/relax) [parser: ase]&lt;/option&gt; --&gt;\n        &lt;/select&gt;\n                        &lt;/div&gt;\n                &lt;/div&gt;\n\n\n        &lt;div class=\&#39;row\&#39; style=&quot;text-align:center&quot;&gt;\n        &lt;p class=\&#39;small\&#39;&gt;By continuing, you agree with the &lt;a href=&quot;../termsofuse/&quot; target=&quot;_blank&quot;&gt;terms of use&lt;/a&gt; of this service.&lt;/p&gt;\n          &lt;input type=&quot;submit&quot; value=&quot;Calculate Polarizability&quot; class=&quot;btn btn-default&quot;&gt;\n        &lt;p class=\&#39;small\&#39;&gt;Please be patient. &lt;br&gt; Depending on the workload of the server the calculation might only start in a few minutes. &lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n\n&lt;h2&gt;Otherwise, pick an example&lt;/h2&gt;\n&lt;form id=&quot;process_example_structure&quot; &gt;\n  &lt;div style=&quot;margin-left: 20px; margin-right: 20px;&quot;&gt;\n    &lt;div class=\&#39;alert alert-info\&#39;&gt;\n      &lt;div class=&quot;row&quot;&gt;\n\t&lt;div class=&quot;col-xs-12 col-sm-6&quot;&gt;\n\t  &lt;label for=&quot;examplestructure&quot;&gt;Select an example molecule:&lt;/label&gt;\n\t&lt;/div&gt;\n\t&lt;div class=&quot;col-xs-12 col-sm-6&quot;&gt;\n\t  &lt;select name=&quot;examplestructure&quot;&gt;\n            &lt;option value=\&#39;Caffeine\&#39;&gt;Caffeine&lt;/option&gt;\n            &lt;option value=\&#39;Aciclovir\&#39;&gt;Aciclovir&lt;/option&gt;\n\t    &lt;option value=\&#39;Cytosine\&#39;&gt;Cytosine&lt;/option&gt;\n\t    &lt;option value=\&#39;Methionine\&#39;&gt;Methionine&lt;/option&gt;\n\t    &lt;option value=\&#39;Fullerene\&#39;&gt;Fullerene&lt;/option&gt;\n\t    &lt;option Value=\&#39;Pentacene\&#39;&gt;Pentacene&lt;/option&gt;\n\t  &lt;/select&gt;\n\t&lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\&#39;row\&#39;&gt;\n        &lt;div class=\&#39;col-sm-6\&#39;&gt;\n          &lt;label for=&quot;fileformat&quot;&gt;Select the AlphaML model:&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\&#39;col-sm-6\&#39;&gt;\n          &lt;select name=&quot;modeltype&quot; id=&quot;modeltypeselect&quot;, style=&quot;max-width: 100%&quot;&gt;\n          &lt;option value=&quot;ccsd&quot;&gt;CCSD&lt;/option&gt;\n          &lt;option value=&quot;b3lyp&quot;&gt;B3LYP&lt;/option&gt;\n\t  &lt;option value=&quot;scan0&quot;&gt;SCAN0&lt;/option&gt;\n\t  &lt;option value=&quot;delta-b3lyp-ccsd&quot;&gt;(CCSD-B3LYP)&lt;/option&gt;\n\t  &lt;option value=&quot;delta-scan0-ccsd&quot;&gt;(CCSD-SCAN0)&lt;/option&gt;\n          &lt;!--          &lt;option value=&quot;cif-pymatgen&quot;&gt;CIF File (.cif) [parser: pymatgen]&lt;/option&gt; --&gt;\n&lt;!--          &lt;option value=&quot;vasp-ase&quot;&gt;VASP POSCAR [parser: ase]&lt;/option&gt; --&gt;\n&lt;!--          &lt;option value=&quot;castep-ase&quot;&gt;CASTEP (.cell) [parser: ase]&lt;/option&gt; --&gt;\n&lt;!--                                        &lt;option value=&quot;castepout-ase&quot;&gt;CASTEP Output (.castep) [parser: ase]&lt;/option&gt; --&gt;\n&lt;!--                      &lt;option value=&quot;qe-ase&quot;&gt;Quantum Espresso Output (scf/relax) [parser: ase]&lt;/option&gt; --&gt;\n        &lt;/select&gt;\n                        &lt;/div&gt;\n                &lt;/div&gt;\n\n        &lt;div class=\&#39;row\&#39; style=&quot;text-align: center&quot;&gt;\n            &lt;p class=\&#39;small\&#39;&gt; &lt;/p&gt;\n\t    &lt;input type=&quot;submit&quot; value=&quot;Calculate Polarizability&quot; class=&quot;btn btn-default&quot;&gt;\n            &lt;p class=\&#39;small\&#39;&gt;Please be patient. &lt;br&gt; Depending on the workload of the server the calculation might only start in a few minutes. &lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n\n    &lt;!--\n    &lt;script src=&quot;/submit_js/process_structure-process_structure&quot;&gt;&lt;/script&gt;\n\n    &lt;script src=&quot;/submit_js/process_example_structure-process_structure&quot;&gt;&lt;/script&gt;\n    --&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n\n        // Status\nfunction loading_overlay(count){\n        $.LoadingOverlay(&quot;progress&quot;, count);\n        $.LoadingOverlay(&quot;text&quot;, &quot;Working...&quot;);\n        }\n\nfunction pending_overlay(){\n  $.LoadingOverlay(&quot;show&quot;, {\n          image       : &quot;&quot;,\n//          text        : &quot;Waiting in the Queue...&quot;,\n\t  text        : &quot;Working...&quot;,\n          progress    : true\n          });\n}\n\nfunction checkExists(sel) {\n    var status = false;\n    if ($(sel).length) status = true;\n    return status;\n}\n\n//Program a custom submit function for the form\n$(&quot;form#process_structure&quot;).submit(function(event){\n\n  //disable the default form submission\n  event.preventDefault();\n\n  //grab all form data\n  var formData = new FormData($(this)[0]);\n  //email = collect_email();\n  //formData.append(\&#39;email\&#39;, email);\n\n\n  $.ajax({\n    url: &quot;../process_structure&quot;,\n    type: \&#39;POST\&#39;,\n    data: formData,\n    async: true,\n    cache: false,\n    contentType: false,\n    processData: false,\n    dataType: \&#39;json\&#39;,\n    success: function(data, textStatus,jqXHR) {\n                    status_url = jqXHR.getResponseHeader(\&#39;Location\&#39;);\n                    redirect_url = jqXHR.getResponseHeader(\&#39;Redirect\&#39;);\n\n                    update_progress(status_url,redirect_url);\n                },\n    error: function(jqXHR) {\n        //&lt;div class=&quot;alert alert-danger&quot; id=&quot;flash_alert&quot;&gt;\n        //error_message = data[\&#39;error_message\&#39;]//jqXHR.getResponseHeader(\&#39;error_message\&#39;);\n        //&lt;/div&gt;\n\n        var error_message = jqXHR.responseJSON.message\n\n        if (checkExists(\&#39;#alert_list\&#39;)) {\n            // alert(\&#39;alert_list\&#39;);\n            div = $(&quot;&quot;.concat(\&#39;&lt;li&gt;\&#39;,error_message,\&#39;&lt;/li&gt;\&#39;));\n            $(\&#39;#alert_list\&#39;).append(div);\n        }\n        else {\n            //alert(\&#39;flash_alert\&#39;);\n            div = $(&quot;&quot;.concat(\&#39;&lt;div class=&quot;alert alert-danger&quot; id=&quot;flash_alert&quot;&gt; Warning: &lt;ul type=&quot;circle&quot; id=&quot;alert_list&quot;&gt; &lt;li&gt;\&#39;,error_message,\&#39;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;\&#39;));\n            $(\&#39;#flash_alert\&#39;).append(div);\n        }\n        //alert(error_message);\n\n\n        // alert(\&#39;Unexpected error\&#39;);\n    }\n  });\n\n  return false;\n});\n\n//Program a custom submit function for the form\n$(&quot;form#process_example_structure&quot;).submit(function(event){\n\n  //disable the default form submission\n  event.preventDefault();\n\n  //grab all form data\n  var formData = new FormData($(this)[0]);\n\n  $.ajax({\n    url: &quot;../process_structure&quot;,\n    type: \&#39;POST\&#39;,\n    data: formData,\n    async: true,\n    cache: false,\n    contentType: false,\n    processData: false,\n    dataType: \&#39;json\&#39;,\n    success: function(data, textStatus,jqXHR) {\n                    status_url = jqXHR.getResponseHeader(\&#39;Location\&#39;);\n                    redirect_url = jqXHR.getResponseHeader(\&#39;Redirect\&#39;);\n\n                    update_progress(status_url,redirect_url);\n                },\n    error: function(jqXHR) {\n        //&lt;div class=&quot;alert alert-danger&quot; id=&quot;flash_alert&quot;&gt;\n        //error_message = data[\&#39;error_message\&#39;]//jqXHR.getResponseHeader(\&#39;error_message\&#39;);\n        //&lt;/div&gt;\n\n        var error_message = jqXHR.responseJSON.message\n\n        if (checkExists(\&#39;#alert_list\&#39;)) {\n            // alert(\&#39;alert_list\&#39;);\n            div = $(&quot;&quot;.concat(\&#39;&lt;li&gt;\&#39;,error_message,\&#39;&lt;/li&gt;\&#39;));\n            $(\&#39;#alert_list\&#39;).append(div);\n        }\n        else {\n            //alert(\&#39;flash_alert\&#39;);\n            div = $(&quot;&quot;.concat(\&#39;&lt;div class=&quot;alert alert-danger&quot; id=&quot;flash_alert&quot;&gt; Warning: &lt;ul type=&quot;circle&quot; id=&quot;alert_list&quot;&gt; &lt;li&gt;\&#39;,error_message,\&#39;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;\&#39;));\n            $(\&#39;#flash_alert\&#39;).append(div);\n        }\n        //alert(error_message);\n\n\n        // alert(\&#39;Unexpected error\&#39;);\n    }\n  });\n\n  return false;\n});\n\n/*function collect_email() {\n  var email = prompt(&quot;Please enter your email&quot;, &quot;example@example.com&quot;);\n  return email;\n}\n*/\nfunction update_progress(status_url,redirect_url) {\n\n    pending_overlay();\n    // send GET request to status URL\n    $.getJSON(status_url, function(data) {\n        // update UI\n        percent = parseInt(data[\&#39;current\&#39;] * 100 / data[\&#39;total\&#39;]);\n\n        if (data[\&#39;state\&#39;] == \&#39;PROGRESS\&#39;) {\n          loading_overlay(percent)\n        }\n        if (data[\&#39;state\&#39;] != \&#39;PENDING\&#39; &amp;&amp; data[\&#39;state\&#39;] != \&#39;PROGRESS\&#39;) {\n            if (\&#39;result\&#39; in data) {\n                // show result\n\n                $(&quot;html&quot;).load(redirect_url);\n                $(location).attr(\&#39;href\&#39;,redirect_url);\n            }\n            else {\n                // something unexpected happened\n                alert(\&#39;Unexpected error. \&#39;+ \&#39;Result: \&#39; + data[\&#39;state\&#39;]);\n            }\n        }\n        else {\n            // rerun in x seconds\n            setTimeout(function() {\n                update_progress(status_url, redirect_url);\n            }, 300 );\n        }\n    });\n}\n    &lt;/script&gt;\n\n\n\n&lt;!--\n&lt;form id=&quot;data&quot;&gt;\n      User Name: &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;&quot;&gt;&lt;br /&gt;\n    &lt;label for=&quot;examplestructure&quot;&gt;Select here a structure from the CSD:&lt;/label&gt;\n\n      &lt;select name=&quot;examplestructure&quot;&gt;\n\t    &lt;option value=\&#39;GUMMUW04\&#39;&gt;GUMMUW04&lt;/option&gt;\n\n\t  &lt;/select&gt;\n      &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n    &lt;/form&gt;\n\n    &lt;script src=&quot;/submit_js/data-longtask&quot;&gt;&lt;/script&gt;\n--&gt;\n\n    &lt;div id=\&#39;citations\&#39;&gt;\n        &lt;h2&gt;How to cite&lt;/h2&gt;\n        &lt;p&gt;If you use this tool, please cite the following work:\n        &lt;ul&gt;\n        &lt;li&gt;\n                &lt;a href=&quot;https://doi.org/10.1073/pnas.1816132116&quot; target=&quot;_blank&quot;&gt; David M. Wilkins, Andrea Grisafi, Yang Yang, Ka Un Lao,Robert A. DiStasio Jr. and Michele Ceriotti: Accurate molecular polarizabilities by coupled-cluster theory and machine learning  &lt;/a&gt; Proc. Natl. Acad. Sci. 116, 3401 (2019).\n\n        &lt;/li&gt;\n        &lt;li&gt;\n      \t  The input parsers use a number of libraries (see name in the dropdown list) from\n      \t     &lt;a href=&quot;https://wiki.fysik.dtu.dk/ase/&quot; target=&quot;_blank&quot;&gt;ASE&lt;/a&gt;,\n             &lt;a href=&quot;http://pymatgen.org&quot; target=&quot;_blank&quot;&gt;pymatgen&lt;/a&gt;.\n      \t&lt;/li&gt;\n\t&lt;li&gt;\n\t  The web interface used in this tool is based on that of &lt;a href=&quot;http://shiftml.org&quot;&gt;ShiftML&lt;/a&gt;.\n\t&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;/p&gt;\n\n    &lt;/div&gt;\n\n    &lt;div id=\&#39;acknowledgment\&#39;&gt;\n        &lt;h2&gt;Acknowledgment&lt;/h2&gt;\n        &lt;p&gt;We are grateful for support from:\n        &lt;ul&gt;\n        &lt;li&gt;\n          Funding by the European Research Council under the European Union\&#39;s Horizon 2020 research and innovation program &lt;br&gt;\n          (grant agreement no. 677013-HBMAP)\n          &lt;a href=&quot;https://ec.europa.eu/programmes/horizon2020/&quot; target=&quot;_blank&quot;&gt;\n            &lt;img src=&quot;../static/img/EC-H2020.png&quot; alt=&quot;EC-H2020 logo&quot; height=&quot;42&quot; vspace=&quot;10&quot; hspace=&quot;10&quot;&gt;\n          &lt;/a&gt;\n        &lt;/li&gt;\n\t&lt;li&gt;\n         Partial support from Cornell University through startup funding\n\t&lt;/li&gt;\n        &lt;li&gt;\n\t  Computational resources of the Argonne Leadership Computing Facility at Argonne National Laboratory, which is supported by Office of Science of the US Department of Energy Contract DE-AC02-06CH11357. Additional computing time was provided by the Scientific IT and Application Support Center of &lt;a href=&quot;https://www.epfl.ch&quot; target=&quot;_blank&quot;&gt;\n            EPFL\n          &lt;/a&gt;\n\t  and by the &lt;a href=&quot;http://www.cscs.ch&quot; target=&quot;_blank&quot;&gt;Swiss National Supercomputing Centre (CSCS)&lt;/a&gt; under project ID s843.\n        &lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;/p&gt;\n\n    &lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;div style =&quot;position: relative&quot; data-iframe-height&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Response [200]&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="selenium-try-2">
<h1>Selenium try #2<a class="headerlink" href="#selenium-try-2" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># URL of the webpage</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.materialscloud.org/work/tools/alphaml&quot;</span>

<span class="c1"># Path to the file you want to upload</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">roste</span><span class="se">\\</span><span class="s2">Downloads</span><span class="se">\\</span><span class="s2">IR-Raman-Axolotl</span><span class="se">\\</span><span class="s2">CO2.xyz&quot;</span>

<span class="c1"># Start a new instance of Chrome web browser</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span>

<span class="c1"># Open the webpage</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># try:</span>

<span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;//*[@id=&#39;process_structure&#39;]/div/div[1]/div[2]/input&quot;</span>
<span class="c1"># Find the file input element</span>
<span class="n">file_input</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="n">xpath</span><span class="p">)</span>
<span class="c1"># Send the file path to the file input element</span>
<span class="n">file_input</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Add a delay to allow the upload process to complete</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NoSuchElementException</span><span class="g g-Whitespace">                    </span>Traceback (most recent call last)
<span class="nn">Input In [57],</span> in <span class="ni">&lt;cell line: 22&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span> <span class="n">xpath</span> <span class="o">=</span> <span class="s2">&quot;//*[@id=&#39;process_structure&#39;]/div/div[1]/div[2]/input&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">21</span> <span class="c1"># Find the file input element</span>
<span class="ne">---&gt; </span><span class="mi">22</span> <span class="n">file_input</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="n">xpath</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">23</span> <span class="c1"># Send the file path to the file input element</span>
<span class="g g-Whitespace">     </span><span class="mi">24</span> <span class="n">file_input</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\remote\webdriver.py:739,</span> in <span class="ni">WebDriver.find_element</span><span class="nt">(self, by, value)</span>
<span class="g g-Whitespace">    </span><span class="mi">736</span>     <span class="n">by</span> <span class="o">=</span> <span class="n">By</span><span class="o">.</span><span class="n">CSS_SELECTOR</span>
<span class="g g-Whitespace">    </span><span class="mi">737</span>     <span class="n">value</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;[name=&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">&quot;]&#39;</span>
<span class="ne">--&gt; </span><span class="mi">739</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">Command</span><span class="o">.</span><span class="n">FIND_ELEMENT</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;using&quot;</span><span class="p">:</span> <span class="n">by</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">})[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\remote\webdriver.py:345,</span> in <span class="ni">WebDriver.execute</span><span class="nt">(self, driver_command, params)</span>
<span class="g g-Whitespace">    </span><span class="mi">343</span> <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">command_executor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">driver_command</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">344</span> <span class="k">if</span> <span class="n">response</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">345</span>     <span class="bp">self</span><span class="o">.</span><span class="n">error_handler</span><span class="o">.</span><span class="n">check_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">346</span>     <span class="n">response</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unwrap_value</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">347</span>     <span class="k">return</span> <span class="n">response</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\remote\errorhandler.py:229,</span> in <span class="ni">ErrorHandler.check_response</span><span class="nt">(self, response)</span>
<span class="g g-Whitespace">    </span><span class="mi">227</span>         <span class="n">alert_text</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="s2">&quot;alert&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">228</span>     <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">stacktrace</span><span class="p">,</span> <span class="n">alert_text</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]  # mypy is not smart enough here</span>
<span class="ne">--&gt; </span><span class="mi">229</span> <span class="k">raise</span> <span class="n">exception_class</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">screen</span><span class="p">,</span> <span class="n">stacktrace</span><span class="p">)</span>

<span class="ne">NoSuchElementException</span>: Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@id=&#39;process_structure&#39;]/div/div[1]/div[2]/input&quot;}
  <span class="p">(</span><span class="n">Session</span> <span class="n">info</span><span class="p">:</span> <span class="n">chrome</span><span class="o">=</span><span class="mf">115.0.5790.171</span><span class="p">);</span> <span class="n">For</span> <span class="n">documentation</span> <span class="n">on</span> <span class="n">this</span> <span class="n">error</span><span class="p">,</span> <span class="n">please</span> <span class="n">visit</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">dev</span><span class="o">/</span><span class="n">documentation</span><span class="o">/</span><span class="n">webdriver</span><span class="o">/</span><span class="n">troubleshooting</span><span class="o">/</span><span class="n">errors</span><span class="c1">#no-such-element-exception</span>
<span class="ne">Stacktrace</span>:
<span class="ne">Backtrace</span>:
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x007A2B63</span><span class="o">+</span><span class="mi">47795</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x007367E1</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0063C7ED</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00669AC8</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00669B8B</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00698A82</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00684D14</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x006971DA</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x00684AC6</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x006613D7</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0066255D</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x009F6F89</span><span class="o">+</span><span class="mi">2490073</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x00A3C361</span><span class="o">+</span><span class="mi">2773681</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x00A36211</span><span class="o">+</span><span class="mi">2748769</span><span class="p">]</span>
	<span class="n">GetHandleVerifier</span> <span class="p">[</span><span class="mh">0x008216B0</span><span class="o">+</span><span class="mi">566784</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0074019A</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0073C418</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0073C4FB</span><span class="p">]</span>
	<span class="p">(</span><span class="n">No</span> <span class="n">symbol</span><span class="p">)</span> <span class="p">[</span><span class="mh">0x0072F317</span><span class="p">]</span>
	<span class="n">BaseThreadInitThunk</span> <span class="p">[</span><span class="mh">0x76F37D59</span><span class="o">+</span><span class="mi">25</span><span class="p">]</span>
	<span class="n">RtlInitializeExceptionChain</span> <span class="p">[</span><span class="mh">0x77EAB79B</span><span class="o">+</span><span class="mi">107</span><span class="p">]</span>
	<span class="n">RtlClearBits</span> <span class="p">[</span><span class="mh">0x77EAB71F</span><span class="o">+</span><span class="mi">191</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># Path to the file you want to upload</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;C:</span><span class="se">\\</span><span class="s1">Users</span><span class="se">\\</span><span class="s1">roste</span><span class="se">\\</span><span class="s1">Downloads</span><span class="se">\\</span><span class="s1">IR-Raman-Axolotl</span><span class="se">\\</span><span class="s1">CO2.xyz&#39;</span>

<span class="c1"># Set up the WebDriver (you might need to adjust the driver path)</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s1">&#39;Downloads/IR-Raman-Axolotl/chromedriver.exe&#39;</span><span class="p">)</span>

<span class="c1"># URL of the upload endpoint</span>
<span class="n">upload_url</span> <span class="o">=</span> <span class="s1">&#39;https://tools.materialscloud.org/alphaml/input_structure/&#39;</span>

<span class="c1"># Open the upload URL</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">upload_url</span><span class="p">)</span>

<span class="c1"># Find the file input element and send the file path</span>
<span class="n">file_input</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s1">&#39;structurefile&#39;</span><span class="p">)</span>
<span class="n">file_input</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Find the format select element and select the desired option</span>
<span class="n">format_select</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;fileformatSelect&#39;</span><span class="p">)</span>
<span class="n">format_select</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;xyz-ase&#39;</span><span class="p">)</span>

<span class="c1"># Find the model type select element and select the desired option</span>
<span class="n">model_select</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s1">&#39;modeltypeselect&#39;</span><span class="p">)</span>
<span class="n">model_select</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;ccsd&#39;</span><span class="p">)</span>

<span class="c1"># Find the &quot;Calculate Polarizability&quot; button and click it</span>
<span class="n">calculate_button</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s1">&#39;input[type=&quot;submit&quot;][value=&quot;Calculate Polarizability&quot;]&#39;</span><span class="p">)</span>
<span class="n">calculate_button</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

<span class="c1"># Wait for the calculation to complete (adjust the time as needed)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># You might need to wait longer depending on the processing time</span>

<span class="c1"># Close the WebDriver</span>
<span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\common\driver_finder.py:38,</span> in <span class="ni">DriverFinder.get_path</span><span class="nt">(service, options)</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">38</span>     <span class="n">path</span> <span class="o">=</span> <span class="n">SeleniumManager</span><span class="p">()</span><span class="o">.</span><span class="n">driver_location</span><span class="p">(</span><span class="n">options</span><span class="p">)</span> <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">path</span>
<span class="g g-Whitespace">     </span><span class="mi">39</span> <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\common\selenium_manager.py:71,</span> in <span class="ni">SeleniumManager.driver_location</span><span class="nt">(self, options)</span>
<span class="g g-Whitespace">     </span><span class="mi">64</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">65</span><span class="sd"> Determines the path of the correct driver.</span>
<span class="g g-Whitespace">     </span><span class="mi">66</span><span class="sd"> :Args:</span>
<span class="g g-Whitespace">     </span><span class="mi">67</span><span class="sd">  - browser: which browser to get the driver path for.</span>
<span class="g g-Whitespace">     </span><span class="mi">68</span><span class="sd"> :Returns: The driver path to use</span>
<span class="g g-Whitespace">     </span><span class="mi">69</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">71</span> <span class="n">browser</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">capabilities</span><span class="p">[</span><span class="s2">&quot;browserName&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">73</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_binary</span><span class="p">()),</span> <span class="s2">&quot;--browser&quot;</span><span class="p">,</span> <span class="n">browser</span><span class="p">]</span>

<span class="ne">AttributeError</span>: &#39;str&#39; object has no attribute &#39;capabilities&#39;

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="nn">Input In [76],</span> in <span class="ni">&lt;cell line: 9&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;C:</span><span class="se">\\</span><span class="s1">Users</span><span class="se">\\</span><span class="s1">roste</span><span class="se">\\</span><span class="s1">Downloads</span><span class="se">\\</span><span class="s1">IR-Raman-Axolotl</span><span class="se">\\</span><span class="s1">CO2.xyz&#39;</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="c1"># Set up the WebDriver (you might need to adjust the driver path)</span>
<span class="ne">----&gt; </span><span class="mi">9</span> <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s1">&#39;Downloads/IR-Raman-Axolotl/chromedriver.exe&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="c1"># URL of the upload endpoint</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> <span class="n">upload_url</span> <span class="o">=</span> <span class="s1">&#39;https://tools.materialscloud.org/alphaml/input_structure/&#39;</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\chrome\webdriver.py:45,</span> in <span class="ni">WebDriver.__init__</span><span class="nt">(self, options, service, keep_alive)</span>
<span class="g g-Whitespace">     </span><span class="mi">42</span> <span class="n">service</span> <span class="o">=</span> <span class="n">service</span> <span class="k">if</span> <span class="n">service</span> <span class="k">else</span> <span class="n">Service</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">43</span> <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="k">if</span> <span class="n">options</span> <span class="k">else</span> <span class="n">Options</span><span class="p">()</span>
<span class="ne">---&gt; </span><span class="mi">45</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">46</span>     <span class="n">DesiredCapabilities</span><span class="o">.</span><span class="n">CHROME</span><span class="p">[</span><span class="s2">&quot;browserName&quot;</span><span class="p">],</span>
<span class="g g-Whitespace">     </span><span class="mi">47</span>     <span class="s2">&quot;goog&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">48</span>     <span class="n">options</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">49</span>     <span class="n">service</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">50</span>     <span class="n">keep_alive</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">51</span> <span class="p">)</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\chromium\webdriver.py:51,</span> in <span class="ni">ChromiumDriver.__init__</span><span class="nt">(self, browser_name, vendor_prefix, options, service, keep_alive)</span>
<span class="g g-Whitespace">     </span><span class="mi">47</span> <span class="bp">self</span><span class="o">.</span><span class="n">vendor_prefix</span> <span class="o">=</span> <span class="n">vendor_prefix</span>
<span class="g g-Whitespace">     </span><span class="mi">49</span> <span class="bp">self</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="n">service</span>
<span class="ne">---&gt; </span><span class="mi">51</span> <span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">DriverFinder</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">53</span> <span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">55</span> <span class="k">try</span><span class="p">:</span>

<span class="nn">File ~\anaconda3\lib\site-packages\selenium\webdriver\common\driver_finder.py:40,</span> in <span class="ni">DriverFinder.get_path</span><span class="nt">(service, options)</span>
<span class="g g-Whitespace">     </span><span class="mi">38</span>     <span class="n">path</span> <span class="o">=</span> <span class="n">SeleniumManager</span><span class="p">()</span><span class="o">.</span><span class="n">driver_location</span><span class="p">(</span><span class="n">options</span><span class="p">)</span> <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">path</span>
<span class="g g-Whitespace">     </span><span class="mi">39</span> <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">40</span>     <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Unable to obtain driver for </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">capabilities</span><span class="p">[</span><span class="s1">&#39;browserName&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> using Selenium Manager.&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">41</span>     <span class="k">raise</span> <span class="n">NoSuchDriverException</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">     </span><span class="mi">43</span> <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>

<span class="ne">AttributeError</span>: &#39;str&#39; object has no attribute &#39;capabilities&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="new-attempt-with-kallisto">
<h1>New attempt with kallisto<a class="headerlink" href="#new-attempt-with-kallisto" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">kallisto</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.Collecting kallisto
  Downloading kallisto-1.0.9-py3-none-any.whl (104 kB)
     ---------------------------------------- 0.0/104.7 kB ? eta -:--:--
     ---------- -------------------------- 30.7/104.7 kB 660.6 kB/s eta 0:00:01
     -------------------------------------- 104.7/104.7 kB 1.2 MB/s eta 0:00:00
Requirement already satisfied: click&lt;9.0.0,&gt;=8.0.0 in c:\users\roste\anaconda3\lib\site-packages (from kallisto) (8.1.6)
Requirement already satisfied: numpy&lt;2.0.0,&gt;=1.19.0 in c:\users\roste\anaconda3\lib\site-packages (from kallisto) (1.23.5)
Collecting scipy==1.9.2 (from kallisto)
  Downloading scipy-1.9.2-cp38-cp38-win_amd64.whl (39.8 MB)
     ---------------------------------------- 0.0/39.8 MB ? eta -:--:--
     ---------------------------------------- 0.3/39.8 MB 6.3 MB/s eta 0:00:07
     ---------------------------------------- 0.5/39.8 MB 4.1 MB/s eta 0:00:10
      --------------------------------------- 0.6/39.8 MB 3.5 MB/s eta 0:00:12
      --------------------------------------- 0.8/39.8 MB 3.3 MB/s eta 0:00:12
      --------------------------------------- 0.9/39.8 MB 3.2 MB/s eta 0:00:13
     - -------------------------------------- 1.0/39.8 MB 3.0 MB/s eta 0:00:13
     - -------------------------------------- 1.1/39.8 MB 2.9 MB/s eta 0:00:14
     - -------------------------------------- 1.2/39.8 MB 2.8 MB/s eta 0:00:14
     - -------------------------------------- 1.4/39.8 MB 2.8 MB/s eta 0:00:14
     - -------------------------------------- 1.5/39.8 MB 2.8 MB/s eta 0:00:14
     - -------------------------------------- 1.6/39.8 MB 2.8 MB/s eta 0:00:14
     - -------------------------------------- 1.7/39.8 MB 2.7 MB/s eta 0:00:15
     - -------------------------------------- 1.8/39.8 MB 2.7 MB/s eta 0:00:15
     - -------------------------------------- 1.9/39.8 MB 2.7 MB/s eta 0:00:15
     -- ------------------------------------- 2.0/39.8 MB 2.7 MB/s eta 0:00:15
     -- ------------------------------------- 2.2/39.8 MB 2.6 MB/s eta 0:00:15
     -- ------------------------------------- 2.3/39.8 MB 2.6 MB/s eta 0:00:15
     -- ------------------------------------- 2.4/39.8 MB 2.6 MB/s eta 0:00:15
     -- ------------------------------------- 2.5/39.8 MB 2.6 MB/s eta 0:00:15
     -- ------------------------------------- 2.6/39.8 MB 2.6 MB/s eta 0:00:15
     -- ------------------------------------- 2.7/39.8 MB 2.6 MB/s eta 0:00:15
     -- ------------------------------------- 2.8/39.8 MB 2.6 MB/s eta 0:00:15
     -- ------------------------------------- 2.9/39.8 MB 2.5 MB/s eta 0:00:15
     --- ------------------------------------ 3.0/39.8 MB 2.6 MB/s eta 0:00:15
     --- ------------------------------------ 3.1/39.8 MB 2.5 MB/s eta 0:00:15
     --- ------------------------------------ 3.2/39.8 MB 2.5 MB/s eta 0:00:15
     --- ------------------------------------ 3.4/39.8 MB 2.5 MB/s eta 0:00:15
     --- ------------------------------------ 3.5/39.8 MB 2.5 MB/s eta 0:00:15
     --- ------------------------------------ 3.6/39.8 MB 2.5 MB/s eta 0:00:15
     --- ------------------------------------ 3.6/39.8 MB 2.5 MB/s eta 0:00:15
     --- ------------------------------------ 3.8/39.8 MB 2.5 MB/s eta 0:00:15
     --- ------------------------------------ 3.9/39.8 MB 2.5 MB/s eta 0:00:15
     ---- ----------------------------------- 4.0/39.8 MB 2.5 MB/s eta 0:00:15
     ---- ----------------------------------- 4.1/39.8 MB 2.4 MB/s eta 0:00:15
     ---- ----------------------------------- 4.2/39.8 MB 2.5 MB/s eta 0:00:15
     ---- ----------------------------------- 4.3/39.8 MB 2.5 MB/s eta 0:00:15
     ---- ----------------------------------- 4.4/39.8 MB 2.5 MB/s eta 0:00:15
     ---- ----------------------------------- 4.5/39.8 MB 2.5 MB/s eta 0:00:15
     ---- ----------------------------------- 4.6/39.8 MB 2.5 MB/s eta 0:00:15
     ---- ----------------------------------- 4.7/39.8 MB 2.5 MB/s eta 0:00:15
     ---- ----------------------------------- 4.8/39.8 MB 2.4 MB/s eta 0:00:15
     ---- ----------------------------------- 4.8/39.8 MB 2.4 MB/s eta 0:00:15
     ---- ----------------------------------- 4.9/39.8 MB 2.4 MB/s eta 0:00:15
     ----- ---------------------------------- 5.0/39.8 MB 2.4 MB/s eta 0:00:15
     ----- ---------------------------------- 5.1/39.8 MB 2.4 MB/s eta 0:00:15
     ----- ---------------------------------- 5.2/39.8 MB 2.4 MB/s eta 0:00:15
     ----- ---------------------------------- 5.4/39.8 MB 2.4 MB/s eta 0:00:15
     ----- ---------------------------------- 5.4/39.8 MB 2.3 MB/s eta 0:00:15
     ----- ---------------------------------- 5.5/39.8 MB 2.4 MB/s eta 0:00:15
     ----- ---------------------------------- 5.6/39.8 MB 2.3 MB/s eta 0:00:15
     ----- ---------------------------------- 5.7/39.8 MB 2.3 MB/s eta 0:00:15
     ----- ---------------------------------- 5.7/39.8 MB 2.3 MB/s eta 0:00:15
     ----- ---------------------------------- 5.8/39.8 MB 2.3 MB/s eta 0:00:15
     ----- ---------------------------------- 6.0/39.8 MB 2.3 MB/s eta 0:00:15
     ------ --------------------------------- 6.1/39.8 MB 2.3 MB/s eta 0:00:15
     ------ --------------------------------- 6.2/39.8 MB 2.3 MB/s eta 0:00:15
     ------ --------------------------------- 6.2/39.8 MB 2.3 MB/s eta 0:00:15
     ------ --------------------------------- 6.3/39.8 MB 2.3 MB/s eta 0:00:15
     ------ --------------------------------- 6.5/39.8 MB 2.3 MB/s eta 0:00:15
     ------ --------------------------------- 6.7/39.8 MB 2.3 MB/s eta 0:00:15
     ------ --------------------------------- 6.8/39.8 MB 2.3 MB/s eta 0:00:15
     ------ --------------------------------- 6.9/39.8 MB 2.3 MB/s eta 0:00:15
     ------- -------------------------------- 7.0/39.8 MB 2.3 MB/s eta 0:00:15
     ------- -------------------------------- 7.1/39.8 MB 2.3 MB/s eta 0:00:15
     ------- -------------------------------- 7.2/39.8 MB 2.3 MB/s eta 0:00:15
     ------- -------------------------------- 7.3/39.8 MB 2.3 MB/s eta 0:00:15
     ------- -------------------------------- 7.4/39.8 MB 2.3 MB/s eta 0:00:15
     ------- -------------------------------- 7.7/39.8 MB 2.3 MB/s eta 0:00:14
     -------- ------------------------------- 8.0/39.8 MB 2.4 MB/s eta 0:00:14
     -------- ------------------------------- 8.2/39.8 MB 2.4 MB/s eta 0:00:13
     -------- ------------------------------- 8.5/39.8 MB 2.5 MB/s eta 0:00:13
     -------- ------------------------------- 8.7/39.8 MB 2.5 MB/s eta 0:00:13
     --------- ------------------------------ 9.0/39.8 MB 2.6 MB/s eta 0:00:13
     --------- ------------------------------ 9.2/39.8 MB 2.6 MB/s eta 0:00:12
     --------- ------------------------------ 9.5/39.8 MB 2.6 MB/s eta 0:00:12
     --------- ------------------------------ 9.7/39.8 MB 2.7 MB/s eta 0:00:12
     ---------- ----------------------------- 10.0/39.8 MB 2.7 MB/s eta 0:00:11
     ---------- ----------------------------- 10.3/39.8 MB 2.7 MB/s eta 0:00:11
     ---------- ----------------------------- 10.6/39.8 MB 2.8 MB/s eta 0:00:11
     ----------- ---------------------------- 11.0/39.8 MB 2.8 MB/s eta 0:00:11
     ----------- ---------------------------- 11.4/39.8 MB 2.9 MB/s eta 0:00:10
     ----------- ---------------------------- 11.7/39.8 MB 3.0 MB/s eta 0:00:10
     ------------ --------------------------- 12.0/39.8 MB 3.0 MB/s eta 0:00:10
     ------------ --------------------------- 12.3/39.8 MB 3.1 MB/s eta 0:00:09
     ------------ --------------------------- 12.6/39.8 MB 3.2 MB/s eta 0:00:09
     ------------ --------------------------- 12.9/39.8 MB 3.2 MB/s eta 0:00:09
     ------------- -------------------------- 13.1/39.8 MB 3.3 MB/s eta 0:00:09
     ------------- -------------------------- 13.4/39.8 MB 3.4 MB/s eta 0:00:08
     ------------- -------------------------- 13.7/39.8 MB 3.5 MB/s eta 0:00:08
     -------------- ------------------------- 13.9/39.8 MB 3.6 MB/s eta 0:00:08
     -------------- ------------------------- 14.2/39.8 MB 3.7 MB/s eta 0:00:07
     -------------- ------------------------- 14.5/39.8 MB 3.8 MB/s eta 0:00:07
     -------------- ------------------------- 14.8/39.8 MB 3.9 MB/s eta 0:00:07
     --------------- ------------------------ 15.0/39.8 MB 4.1 MB/s eta 0:00:07
     --------------- ------------------------ 15.3/39.8 MB 4.2 MB/s eta 0:00:06
     --------------- ------------------------ 15.6/39.8 MB 4.3 MB/s eta 0:00:06
     --------------- ------------------------ 15.7/39.8 MB 4.5 MB/s eta 0:00:06
     ---------------- ----------------------- 16.1/39.8 MB 4.6 MB/s eta 0:00:06
     ---------------- ----------------------- 16.3/39.8 MB 4.8 MB/s eta 0:00:05
     ---------------- ----------------------- 16.6/39.8 MB 5.0 MB/s eta 0:00:05
     ----------------- ---------------------- 16.9/39.8 MB 5.2 MB/s eta 0:00:05
     ----------------- ---------------------- 17.2/39.8 MB 5.4 MB/s eta 0:00:05
     ----------------- ---------------------- 17.5/39.8 MB 5.6 MB/s eta 0:00:04
     ----------------- ---------------------- 17.8/39.8 MB 5.8 MB/s eta 0:00:04
     ------------------ --------------------- 18.0/39.8 MB 5.8 MB/s eta 0:00:04
     ------------------ --------------------- 18.3/39.8 MB 5.8 MB/s eta 0:00:04
     ------------------ --------------------- 18.6/39.8 MB 5.8 MB/s eta 0:00:04
     ------------------ --------------------- 18.9/39.8 MB 5.8 MB/s eta 0:00:04
     ------------------- -------------------- 19.1/39.8 MB 5.8 MB/s eta 0:00:04
     ------------------- -------------------- 19.4/39.8 MB 5.8 MB/s eta 0:00:04
     ------------------- -------------------- 19.7/39.8 MB 5.9 MB/s eta 0:00:04
     -------------------- ------------------- 20.0/39.8 MB 6.0 MB/s eta 0:00:04
     -------------------- ------------------- 20.4/39.8 MB 6.0 MB/s eta 0:00:04
     -------------------- ------------------- 20.8/39.8 MB 5.9 MB/s eta 0:00:04
     --------------------- ------------------ 21.2/39.8 MB 6.0 MB/s eta 0:00:04
     --------------------- ------------------ 21.5/39.8 MB 6.0 MB/s eta 0:00:04
     --------------------- ------------------ 21.8/39.8 MB 5.9 MB/s eta 0:00:04
     ---------------------- ----------------- 22.1/39.8 MB 6.0 MB/s eta 0:00:03
     ---------------------- ----------------- 22.4/39.8 MB 6.0 MB/s eta 0:00:03
     ---------------------- ----------------- 22.6/39.8 MB 6.0 MB/s eta 0:00:03
     ----------------------- ---------------- 23.0/39.8 MB 6.0 MB/s eta 0:00:03
     ----------------------- ---------------- 23.3/39.8 MB 6.0 MB/s eta 0:00:03
     ----------------------- ---------------- 23.5/39.8 MB 6.0 MB/s eta 0:00:03
     ----------------------- ---------------- 23.6/39.8 MB 6.0 MB/s eta 0:00:03
     ------------------------ --------------- 24.1/39.8 MB 5.9 MB/s eta 0:00:03
     ------------------------ --------------- 24.3/39.8 MB 6.0 MB/s eta 0:00:03
     ------------------------ --------------- 24.6/39.8 MB 5.9 MB/s eta 0:00:03
     ------------------------- -------------- 24.9/39.8 MB 6.0 MB/s eta 0:00:03
     ------------------------- -------------- 25.1/39.8 MB 6.0 MB/s eta 0:00:03
     ------------------------- -------------- 25.4/39.8 MB 6.0 MB/s eta 0:00:03
     ------------------------- -------------- 25.7/39.8 MB 6.0 MB/s eta 0:00:03
     -------------------------- ------------- 26.0/39.8 MB 6.1 MB/s eta 0:00:03
     -------------------------- ------------- 26.4/39.8 MB 6.0 MB/s eta 0:00:03
     -------------------------- ------------- 26.8/39.8 MB 6.1 MB/s eta 0:00:03
     --------------------------- ------------ 27.1/39.8 MB 6.0 MB/s eta 0:00:03
     --------------------------- ------------ 27.4/39.8 MB 6.0 MB/s eta 0:00:03
     --------------------------- ------------ 27.7/39.8 MB 6.1 MB/s eta 0:00:02
     ---------------------------- ----------- 28.0/39.8 MB 6.1 MB/s eta 0:00:02
     ---------------------------- ----------- 28.3/39.8 MB 6.1 MB/s eta 0:00:02
     ---------------------------- ----------- 28.5/39.8 MB 6.0 MB/s eta 0:00:02
     ---------------------------- ----------- 28.8/39.8 MB 6.0 MB/s eta 0:00:02
     ----------------------------- ---------- 29.1/39.8 MB 6.0 MB/s eta 0:00:02
     ----------------------------- ---------- 29.4/39.8 MB 6.0 MB/s eta 0:00:02
     ----------------------------- ---------- 29.6/39.8 MB 6.0 MB/s eta 0:00:02
     ------------------------------ --------- 29.9/39.8 MB 6.1 MB/s eta 0:00:02
     ------------------------------ --------- 30.2/39.8 MB 6.0 MB/s eta 0:00:02
     ------------------------------ --------- 30.5/39.8 MB 6.0 MB/s eta 0:00:02
     ------------------------------- -------- 30.8/39.8 MB 6.0 MB/s eta 0:00:02
     ------------------------------- -------- 31.2/39.8 MB 6.0 MB/s eta 0:00:02
     ------------------------------- -------- 31.3/39.8 MB 5.9 MB/s eta 0:00:02
     ------------------------------- -------- 31.4/39.8 MB 5.7 MB/s eta 0:00:02
     ------------------------------- -------- 31.5/39.8 MB 5.7 MB/s eta 0:00:02
     ------------------------------- -------- 31.5/39.8 MB 5.6 MB/s eta 0:00:02
     ------------------------------- -------- 31.6/39.8 MB 5.5 MB/s eta 0:00:02
     ------------------------------- -------- 31.7/39.8 MB 5.3 MB/s eta 0:00:02
     ------------------------------- -------- 31.8/39.8 MB 5.2 MB/s eta 0:00:02
     -------------------------------- ------- 32.0/39.8 MB 5.2 MB/s eta 0:00:02
     -------------------------------- ------- 32.1/39.8 MB 5.2 MB/s eta 0:00:02
     -------------------------------- ------- 32.2/39.8 MB 5.1 MB/s eta 0:00:02
     -------------------------------- ------- 32.3/39.8 MB 5.0 MB/s eta 0:00:02
     -------------------------------- ------- 32.4/39.8 MB 4.9 MB/s eta 0:00:02
     -------------------------------- ------- 32.5/39.8 MB 4.9 MB/s eta 0:00:02
     -------------------------------- ------- 32.7/39.8 MB 4.8 MB/s eta 0:00:02
     --------------------------------- ------ 32.8/39.8 MB 4.7 MB/s eta 0:00:02
     --------------------------------- ------ 32.9/39.8 MB 4.7 MB/s eta 0:00:02
     --------------------------------- ------ 33.0/39.8 MB 4.6 MB/s eta 0:00:02
     --------------------------------- ------ 33.1/39.8 MB 4.5 MB/s eta 0:00:02
     --------------------------------- ------ 33.2/39.8 MB 4.5 MB/s eta 0:00:02
     --------------------------------- ------ 33.3/39.8 MB 4.4 MB/s eta 0:00:02
     --------------------------------- ------ 33.6/39.8 MB 4.4 MB/s eta 0:00:02
     ---------------------------------- ----- 33.9/39.8 MB 4.5 MB/s eta 0:00:02
     ---------------------------------- ----- 34.2/39.8 MB 4.4 MB/s eta 0:00:02
     ---------------------------------- ----- 34.5/39.8 MB 4.4 MB/s eta 0:00:02
     ---------------------------------- ----- 34.8/39.8 MB 4.4 MB/s eta 0:00:02
     ----------------------------------- ---- 35.1/39.8 MB 4.5 MB/s eta 0:00:02
     ----------------------------------- ---- 35.4/39.8 MB 4.5 MB/s eta 0:00:01
     ----------------------------------- ---- 35.7/39.8 MB 4.5 MB/s eta 0:00:01
     ------------------------------------ --- 36.0/39.8 MB 4.5 MB/s eta 0:00:01
     ------------------------------------ --- 36.3/39.8 MB 4.5 MB/s eta 0:00:01
     ------------------------------------ --- 36.6/39.8 MB 4.5 MB/s eta 0:00:01
     ------------------------------------- -- 36.9/39.8 MB 4.5 MB/s eta 0:00:01
     ------------------------------------- -- 37.2/39.8 MB 4.5 MB/s eta 0:00:01
     ------------------------------------- -- 37.5/39.8 MB 4.4 MB/s eta 0:00:01
     -------------------------------------- - 38.0/39.8 MB 4.5 MB/s eta 0:00:01
     -------------------------------------- - 38.3/39.8 MB 4.5 MB/s eta 0:00:01
     -------------------------------------- - 38.5/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------  38.8/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------  39.1/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------  39.4/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------  39.6/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------  39.8/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------  39.8/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------  39.8/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------  39.8/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------  39.8/39.8 MB 4.4 MB/s eta 0:00:01
     ---------------------------------------- 39.8/39.8 MB 3.9 MB/s eta 0:00:00
Requirement already satisfied: colorama in c:\users\roste\anaconda3\lib\site-packages (from click&lt;9.0.0,&gt;=8.0.0-&gt;kallisto) (0.4.6)
Installing collected packages: scipy, kallisto
  Attempting uninstall: scipy
    Found existing installation: scipy 1.10.1
    Uninstalling scipy-1.10.1:
      Successfully uninstalled scipy-1.10.1
Successfully installed kallisto-1.0.9 scipy-1.10.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING: Ignoring invalid distribution -atplotlib (c:\users\roste\anaconda3\lib\site-packages)
WARNING: Ignoring invalid distribution -atplotlib (c:\users\roste\anaconda3\lib\site-packages)
ERROR: pip&#39;s dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
statsmodels 0.14.0 requires scipy!=1.9.2,&gt;=1.4, but you have scipy 1.9.2 which is incompatible.
statsmodels 0.14.0 requires scipy!=1.9.2,&gt;=1.4; sys_platform == &quot;win32&quot;, but you have scipy 1.9.2 which is incompatible.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">ast</span> <span class="kn">import</span> <span class="n">literal_eval</span>
<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">scipy.signal</span> <span class="kn">import</span> <span class="n">argrelextrema</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">rdkit</span> <span class="kn">import</span> <span class="n">Chem</span>
<span class="kn">from</span> <span class="nn">rdkit.Chem.Draw</span> <span class="kn">import</span> <span class="n">IPythonConsole</span>
<span class="kn">from</span> <span class="nn">rdkit.Chem</span> <span class="kn">import</span> <span class="n">Draw</span>
<span class="n">IPythonConsole</span><span class="o">.</span><span class="n">ipython_useSVG</span><span class="o">=</span><span class="kc">True</span> 
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">jax</span>
<span class="kn">import</span> <span class="nn">jax.numpy</span> <span class="k">as</span> <span class="nn">jnp</span>
<span class="kn">from</span> <span class="nn">jax</span> <span class="kn">import</span> <span class="n">grad</span><span class="p">,</span> <span class="n">jit</span><span class="p">,</span> <span class="n">vmap</span>
<span class="kn">from</span> <span class="nn">jax</span> <span class="kn">import</span> <span class="n">random</span>
<span class="kn">from</span> <span class="nn">rdkit</span> <span class="kn">import</span> <span class="n">Chem</span>
<span class="kn">from</span> <span class="nn">rdkit.Chem</span> <span class="kn">import</span> <span class="n">AllChem</span>
<span class="kn">import</span> <span class="nn">py3Dmol</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">widgets</span><span class="p">,</span> <span class="n">interact</span><span class="p">,</span><span class="n">fixed</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>
<span class="kn">from</span> <span class="nn">matplotlib.offsetbox</span> <span class="kn">import</span> <span class="n">OffsetImage</span><span class="p">,</span> <span class="n">AnnotationBbox</span>
<span class="kn">import</span> <span class="nn">subprocess</span>

<span class="k">def</span> <span class="nf">Raman_xTB</span><span class="p">(</span><span class="n">smiles</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
    
    <span class="n">smiles_xTB</span> <span class="o">=</span> <span class="n">smiles</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">,</span><span class="s2">&quot;%23&quot;</span><span class="p">)</span>

    <span class="n">r</span>          <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://ir.cheminfo.org/v1/ir?smiles=</span><span class="si">{0}</span><span class="s1">&amp;method=</span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">smiles_xTB</span><span class="p">,</span> <span class="n">method</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="n">data_bytes</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">content</span>
    
    
    <span class="n">data_dic</span>   <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data_bytes</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

        
    <span class="c1"># DIPOLE MOMENT</span>
    
    
    <span class="n">wavenumb</span>   <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">data_dic</span><span class="p">[</span><span class="s2">&quot;wavenumbers&quot;</span><span class="p">])</span>
    
    <span class="c1"># Import normal modes</span>
    <span class="n">modes</span> <span class="o">=</span> <span class="n">data_dic</span><span class="p">[</span><span class="s2">&quot;modes&quot;</span><span class="p">]</span>
    <span class="n">vib_modes</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">modes</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">modes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;modeType&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;vibration&#39;</span><span class="p">:</span>
            <span class="n">vib_modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">modes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            
    <span class="c1"># Import frequencies</span>
    <span class="n">frequency</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">vib_modes</span><span class="p">)):</span>
        <span class="n">frequency</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vib_modes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;wavenumber&quot;</span><span class="p">])</span>
        
    <span class="c1"># Import normal modes coordinates</span>
    <span class="n">a</span>        <span class="o">=</span> <span class="n">vib_modes</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;displacements&quot;</span><span class="p">]</span>
    <span class="n">ar_s</span>     <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">modes_al</span> <span class="o">=</span> <span class="n">ar_s</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">modes_al_c</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">modes_al</span><span class="p">:</span>
        <span class="n">modes_al_c</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There are </span><span class="si">{0}</span><span class="s2"> normal modes&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vib_modes</span><span class="p">)))</span>
   
    <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">modes_al_c</span><span class="p">:</span>
        <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            
    <span class="nb">print</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>  

    <span class="c1"># Define the function for linear interpolation of configurations</span>
    <span class="k">def</span> <span class="nf">interpolate_configurations</span><span class="p">(</span><span class="n">initial_coords</span><span class="p">,</span> <span class="n">final_coords</span><span class="p">,</span> <span class="n">num_steps</span><span class="p">):</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">num_steps</span><span class="p">)[:,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">initial_coords</span> <span class="o">+</span> <span class="n">steps</span> <span class="o">*</span> <span class="p">(</span><span class="n">final_coords</span> <span class="o">-</span> <span class="n">initial_coords</span><span class="p">)</span>

    <span class="c1">########## ---------- Writing the initial positions --------- </span>
    <span class="n">_all</span><span class="o">=</span> <span class="p">[]</span>
    <span class="n">all_pol_mode</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">vib_modes</span><span class="p">)):</span>
        <span class="n">_i_f</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">a</span>        <span class="o">=</span> <span class="n">vib_modes</span><span class="p">[</span><span class="n">mode</span><span class="p">][</span><span class="s2">&quot;displacements&quot;</span><span class="p">]</span>
        <span class="n">ar_s</span>     <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">modes_al</span> <span class="o">=</span> <span class="n">ar_s</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">modes_al_c</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">modes_al</span><span class="p">:</span>
            <span class="n">modes_al_c</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>

        <span class="n">num_modes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">modes_al_c</span><span class="p">:</span>
            <span class="n">atom</span>      <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
                <span class="n">atom</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="n">k</span><span class="p">]))</span> 
            <span class="n">elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">num_modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">atom</span><span class="p">)</span>

        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">num_modes</span><span class="p">:</span>
            <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="n">initial_coordinates</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">num_modes</span><span class="p">)</span>
<span class="c1">#         print(initial_coordiantes)</span>
        

        <span class="c1">#### Final positions  </span>
        <span class="n">vib_modes_1</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">modes_al_c</span><span class="p">:</span>
            <span class="n">atom</span>      <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">):</span>
                <span class="n">atom</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="n">k</span><span class="p">]))</span> 
            <span class="n">vib_modes_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">atom</span><span class="p">)</span>

        <span class="n">coordinates_vib</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">vib_modes_1</span><span class="p">:</span>
            <span class="n">coordinates_vib</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="n">final_coordinates</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">vib_modes_1</span><span class="p">)</span>
<span class="c1">#         print(final_coordinates)</span>
        <span class="c1"># Polarizability</span>
        <span class="c1"># Compute 100 intermediate configurations using linear interpolation for each coordinate</span>
        <span class="n">num_interpolations</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">interpolated_coordinates</span> <span class="o">=</span> <span class="n">interpolate_configurations</span><span class="p">((</span><span class="n">initial_coordinates</span><span class="o">-</span><span class="n">final_coordinates</span><span class="p">)[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:],</span>\
                                                                <span class="p">(</span><span class="n">initial_coordinates</span><span class="o">+</span><span class="n">final_coordinates</span><span class="p">)[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:],</span> \
                                                                <span class="n">num_interpolations</span><span class="p">)</span>
        <span class="n">index_IC</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c1"># Creating documents for polarizability </span>
        <span class="n">pol_mode</span> <span class="o">=</span><span class="p">[]</span>
        <span class="n">files_gen</span><span class="o">=</span><span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">config</span> <span class="ow">in</span> <span class="n">interpolated_coordinates</span><span class="p">:</span>
            <span class="n">index_IC</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">xyz_file</span> <span class="o">=</span> <span class="s2">&quot;mode_</span><span class="si">{0}</span><span class="s2">_</span><span class="si">{1}</span><span class="s2">_</span><span class="si">{2}</span><span class="s2">_</span><span class="si">{3}</span><span class="s2">.xyz&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span><span class="n">smiles</span><span class="p">,</span><span class="n">method</span><span class="p">,</span> <span class="n">index_IC</span><span class="p">)</span>
            <span class="n">myfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">xyz_file</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
            <span class="n">myfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)))</span>
            <span class="n">myfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">myfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)):</span>
                <span class="n">myfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="s2"> </span><span class="si">{2}</span><span class="s2"> </span><span class="si">{3}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>\
                                                          <span class="n">config</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>\
                                                          <span class="n">config</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>\
                                                         <span class="n">config</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>
                <span class="n">myfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> 
            <span class="n">myfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">files_gen</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xyz_file</span><span class="p">)</span>
            
            <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;kallisto alp --molecular </span><span class="si">{</span><span class="n">xyz_file</span><span class="si">}</span><span class="s1">&#39;</span>
             <span class="c1"># Execute the command</span>
            <span class="n">output</span><span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">pol_mode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

        
            
        <span class="n">all_pol_mode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pol_mode</span><span class="p">)</span> 
        <span class="n">_all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">interpolated_coordinates</span><span class="p">)</span>
    <span class="k">return</span>   <span class="n">elements</span><span class="p">,</span> <span class="n">all_pol_mode</span><span class="p">,</span> <span class="n">files_gen</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span><span class="n">e</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">Raman_xTB</span><span class="p">(</span><span class="s2">&quot;O=C=O&quot;</span><span class="p">,</span><span class="s2">&quot;GFN2xTB&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Response [200]&gt;
There are 4 normal modes
[&#39;O&#39;, &#39;C&#39;, &#39;O&#39;]
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">CalledProcessError</span><span class="g g-Whitespace">                        </span>Traceback (most recent call last)
<span class="nn">Input In [223],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">a</span><span class="p">,</span><span class="n">e</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">Raman_xTB</span><span class="p">(</span><span class="s2">&quot;O=C=O&quot;</span><span class="p">,</span><span class="s2">&quot;GFN2xTB&quot;</span><span class="p">)</span>

<span class="nn">Input In [222],</span> in <span class="ni">Raman_xTB</span><span class="nt">(smiles, method)</span>
<span class="g g-Whitespace">    </span><span class="mi">148</span>     <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;!kallisto alp --molecular </span><span class="si">{</span><span class="n">xyz_file</span><span class="si">}</span><span class="s1">&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">149</span>      <span class="c1"># Execute the command</span>
<span class="ne">--&gt; </span><span class="mi">150</span>     <span class="n">output</span><span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">151</span>     <span class="n">pol_mode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="g g-Whitespace">    </span><span class="mi">155</span> <span class="n">all_pol_mode</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pol_mode</span><span class="p">)</span> 

<span class="nn">File ~\anaconda3\lib\subprocess.py:415,</span> in <span class="ni">check_output</span><span class="nt">(timeout, *popenargs, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">412</span>         <span class="n">empty</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">413</span>     <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">empty</span>
<span class="ne">--&gt; </span><span class="mi">415</span> <span class="k">return</span> <span class="n">run</span><span class="p">(</span><span class="o">*</span><span class="n">popenargs</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">416</span>            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">stdout</span>

<span class="nn">File ~\anaconda3\lib\subprocess.py:516,</span> in <span class="ni">run</span><span class="nt">(input, capture_output, timeout, check, *popenargs, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">514</span>     <span class="n">retcode</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">poll</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">515</span>     <span class="k">if</span> <span class="n">check</span> <span class="ow">and</span> <span class="n">retcode</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">516</span>         <span class="k">raise</span> <span class="n">CalledProcessError</span><span class="p">(</span><span class="n">retcode</span><span class="p">,</span> <span class="n">process</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">517</span>                                  <span class="n">output</span><span class="o">=</span><span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">stderr</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">518</span> <span class="k">return</span> <span class="n">CompletedProcess</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">retcode</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="p">)</span>

<span class="ne">CalledProcessError</span>: Command &#39;!kallisto alp --molecular mode_0_O=C=O_GFN2xTB_1.xyz&#39; returned non-zero exit status 1.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">index</span><span class="o">+=</span><span class="mi">1</span>
    <span class="n">plot</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
    <span class="n">legend</span><span class="p">()</span>
<span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Configuration&quot;</span><span class="p">)</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Polarizability&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;Polarizability&#39;)
</pre></div>
</div>
<img alt="_images/2e6ba1a7a763b5699c7bee985eb9bc66c3cb98a3b6864e527f152865ddb350ed.png" src="_images/2e6ba1a7a763b5699c7bee985eb9bc66c3cb98a3b6864e527f152865ddb350ed.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">myfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;mode_.xyz&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">myfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="s2"> </span><span class="si">{2}</span><span class="s2"> </span><span class="si">{3}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>
<span class="n">myfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>kallisto<span class="w"> </span>alp<span class="w"> </span>--molecular<span class="w"> </span><span class="s2">&quot;mode_3_O=C=O_GFN2xTB_1.xyz&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>19.03581928027043
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pol_list</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">xyz_file</span> <span class="ow">in</span> <span class="n">r</span><span class="p">:</span>
    <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;kallisto alp --molecular </span><span class="si">{</span><span class="n">xyz_file</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="c1"># Execute the command</span>
    <span class="n">output</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pol_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;kallisto alp --molecular mode_0_O=C=O_GFN2xTB_1.xyz&quot;</span>
<span class="n">output</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">output</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;19.04221295578634\n&#39;
</pre></div>
</div>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AntonioCd96/IR-and-Raman.git",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">NEw</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#request-no-working">Request no working</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#selenium-try-2">Selenium try #2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#new-attempt-with-kallisto">New attempt with kallisto</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dr. Mounir Mensi, Dr. Kevin Jablonka and  Antonio Doez
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
       Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>